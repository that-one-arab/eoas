(this.webpackJsonptest=this.webpackJsonptest||[]).push([[0],{707:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return s}));var r,i=n(7);!function(e){e[e.Query=0]="Query",e[e.Mutation=1]="Mutation",e[e.Subscription=2]="Subscription"}(r||(r={}));var o=new Map;function a(e){var t;switch(e){case r.Query:t="Query";break;case r.Mutation:t="Mutation";break;case r.Subscription:t="Subscription"}return t}function s(e){var t,n,a=o.get(e);if(a)return a;__DEV__?Object(i.b)(!!e&&!!e.kind,"Argument of "+e+" passed to parser was not a valid GraphQL DocumentNode. You may need to use 'graphql-tag' or another method to convert your operation into a document"):Object(i.b)(!!e&&!!e.kind,38);var s=e.definitions.filter((function(e){return"FragmentDefinition"===e.kind})),c=e.definitions.filter((function(e){return"OperationDefinition"===e.kind&&"query"===e.operation})),l=e.definitions.filter((function(e){return"OperationDefinition"===e.kind&&"mutation"===e.operation})),u=e.definitions.filter((function(e){return"OperationDefinition"===e.kind&&"subscription"===e.operation}));__DEV__?Object(i.b)(!s.length||c.length||l.length||u.length,"Passing only a fragment to 'graphql' is not yet supported. You must include a query, subscription or mutation as well"):Object(i.b)(!s.length||c.length||l.length||u.length,39),__DEV__?Object(i.b)(c.length+l.length+u.length<=1,"react-apollo only supports a query, subscription, or a mutation per HOC. "+e+" had "+c.length+" queries, "+u.length+" subscriptions and "+l.length+" mutations. You can use 'compose' to join multiple operation types to a component"):Object(i.b)(c.length+l.length+u.length<=1,40),n=c.length?r.Query:r.Mutation,c.length||l.length||(n=r.Subscription);var d=c.length?c:l.length?l:u;__DEV__?Object(i.b)(1===d.length,"react-apollo only supports one definition per HOC. "+e+" had "+d.length+" definitions. You can use 'compose' to join multiple operation types to a component"):Object(i.b)(1===d.length,41);var p=d[0];t=p.variableDefinitions||[];var b={name:p.name&&"Name"===p.name.kind?p.name.value:"data",type:n,variables:t};return o.set(e,b),b}},708:function(e,t,n){"use strict";function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}n.d(t,"a",(function(){return r}))},709:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(708);function i(e,t){if(e){if("string"===typeof e)return Object(r.a)(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Object(r.a)(e,t):void 0}}},710:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(709);function i(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(c){i=!0,o=c}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}}(e,t)||Object(r.a)(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},711:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(33),i=n(7),o=n(707),a=function(){function e(e,t){this.isMounted=!1,this.previousOptions={},this.context={},this.options={},this.options=e||{},this.context=t||{}}return e.prototype.getOptions=function(){return this.options},e.prototype.setOptions=function(e,t){void 0===t&&(t=!1),t&&!Object(r.a)(this.options,e)&&(this.previousOptions=this.options),this.options=e},e.prototype.unmount=function(){this.isMounted=!1},e.prototype.refreshClient=function(){var e=this.options&&this.options.client||this.context&&this.context.client;__DEV__?Object(i.b)(!!e,'Could not find "client" in the context or passed in as an option. Wrap the root component in an <ApolloProvider>, or pass an ApolloClient instance in via options.'):Object(i.b)(!!e,32);var t=!1;return e!==this.client&&(t=!0,this.client=e,this.cleanup()),{client:this.client,isNew:t}},e.prototype.verifyDocumentType=function(e,t){var n=Object(o.c)(e),r=Object(o.b)(t),a=Object(o.b)(n.type);__DEV__?Object(i.b)(n.type===t,"Running a "+r+" requires a graphql "+r+", but a "+a+" was used instead."):Object(i.b)(n.type===t,33)},e}()},712:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var r=n(6),i=n(1),o=n(33),a=n(66),s=n(23),c=n(707),l=function(e){function t(t){var n=t.options,r=t.context,i=t.onNewData,o=e.call(this,n,r)||this;return o.runLazy=!1,o.previous=Object.create(null),o.runLazyQuery=function(e){o.cleanup(),o.runLazy=!0,o.lazyOptions=e,o.onNewData()},o.obsRefetch=function(e){var t;return null===(t=o.currentObservable)||void 0===t?void 0:t.refetch(e)},o.obsFetchMore=function(e){var t;return null===(t=o.currentObservable)||void 0===t?void 0:t.fetchMore(e)},o.obsUpdateQuery=function(e){var t;return null===(t=o.currentObservable)||void 0===t?void 0:t.updateQuery(e)},o.obsStartPolling=function(e){var t;null===(t=o.currentObservable)||void 0===t||t.startPolling(e)},o.obsStopPolling=function(){var e;null===(e=o.currentObservable)||void 0===e||e.stopPolling()},o.obsSubscribeToMore=function(e){var t;return null===(t=o.currentObservable)||void 0===t?void 0:t.subscribeToMore(e)},o.onNewData=i,o}return Object(r.c)(t,e),t.prototype.execute=function(){this.refreshClient();var e=this.getOptions(),t=e.skip,n=e.query;return(t||n!==this.previous.query)&&(this.removeQuerySubscription(),this.removeObservable(!t),this.previous.query=n),this.updateObservableQuery(),this.getExecuteSsrResult()||this.getExecuteResult()},t.prototype.executeLazy=function(){return this.runLazy?[this.runLazyQuery,this.execute()]:[this.runLazyQuery,{loading:!1,networkStatus:s.a.ready,called:!1,data:void 0}]},t.prototype.fetchData=function(){var e=this,t=this.getOptions();return!t.skip&&!1!==t.ssr&&new Promise((function(t){return e.startQuerySubscription(t)}))},t.prototype.afterExecute=function(e){var t=(void 0===e?{}:e).lazy,n=void 0!==t&&t;this.isMounted=!0;var r=this.getOptions();return!this.currentObservable||this.ssrInitiated()||this.client.disableNetworkFetches||this.startQuerySubscription(),n&&!this.runLazy||this.handleErrorOrCompleted(),this.previousOptions=r,this.unmount.bind(this)},t.prototype.cleanup=function(){this.removeQuerySubscription(),this.removeObservable(!0),delete this.previous.result},t.prototype.getOptions=function(){var t=e.prototype.getOptions.call(this);return this.lazyOptions&&(t.variables=Object(r.a)(Object(r.a)({},t.variables),this.lazyOptions.variables),t.context=Object(r.a)(Object(r.a)({},t.context),this.lazyOptions.context)),this.runLazy&&delete t.skip,t},t.prototype.ssrInitiated=function(){return this.context&&this.context.renderPromises},t.prototype.getExecuteSsrResult=function(){var e=this.getOptions(),t=e.ssr,n=e.skip,i=!1===t,o=this.refreshClient().client.disableNetworkFetches,a=Object(r.a)({loading:!0,networkStatus:s.a.loading,called:!0,data:void 0,stale:!1,client:this.client},this.observableQueryFields());if(i&&(this.ssrInitiated()||o))return this.previous.result=a,a;if(this.ssrInitiated()){var c=this.getExecuteResult()||a;return c.loading&&!n&&this.context.renderPromises.addQueryPromise(this,(function(){return null})),c}},t.prototype.prepareObservableQueryOptions=function(){var e=this.getOptions();this.verifyDocumentType(e.query,c.a.Query);var t=e.displayName||"Query";return!this.ssrInitiated()||"network-only"!==e.fetchPolicy&&"cache-and-network"!==e.fetchPolicy||(e.fetchPolicy="cache-first"),Object(r.a)(Object(r.a)({},e),{displayName:t,context:e.context})},t.prototype.initializeObservableQuery=function(){if(this.ssrInitiated()&&(this.currentObservable=this.context.renderPromises.getSSRObservable(this.getOptions())),!this.currentObservable){var e=this.prepareObservableQueryOptions();this.previous.observableQueryOptions=Object(r.a)(Object(r.a)({},e),{children:void 0}),this.currentObservable=this.refreshClient().client.watchQuery(Object(r.a)({},e)),this.ssrInitiated()&&this.context.renderPromises.registerSSRObservable(this.currentObservable,e)}},t.prototype.updateObservableQuery=function(){if(this.currentObservable){var e=Object(r.a)(Object(r.a)({},this.prepareObservableQueryOptions()),{children:void 0});this.getOptions().skip?this.previous.observableQueryOptions=e:Object(o.a)(e,this.previous.observableQueryOptions)||(this.previous.observableQueryOptions=e,this.currentObservable.setOptions(e).catch((function(){})))}else this.initializeObservableQuery()},t.prototype.startQuerySubscription=function(e){var t=this;void 0===e&&(e=this.onNewData),this.currentSubscription||this.getOptions().skip||(this.currentSubscription=this.currentObservable.subscribe({next:function(n){var r=n.loading,i=n.networkStatus,a=n.data,s=t.previous.result;s&&s.loading===r&&s.networkStatus===i&&Object(o.a)(s.data,a)||e()},error:function(n){if(t.resubscribeToQuery(),!n.hasOwnProperty("graphQLErrors"))throw n;var r=t.previous.result;(r&&r.loading||!Object(o.a)(n,t.previous.error))&&(t.previous.error=n,e())}}))},t.prototype.resubscribeToQuery=function(){this.removeQuerySubscription();var e=this.currentObservable;if(e){var t=e.getLastError(),n=e.getLastResult();e.resetLastResults(),this.startQuerySubscription(),Object.assign(e,{lastError:t,lastResult:n})}},t.prototype.getExecuteResult=function(){var e=this.observableQueryFields(),t=this.getOptions();if(t.skip)e=Object(r.a)(Object(r.a)({},e),{data:void 0,error:void 0,loading:!1,networkStatus:s.a.ready,called:!0});else if(this.currentObservable){var n=this.currentObservable.getCurrentResult(),i=n.data,o=n.loading,c=n.partial,l=n.networkStatus,u=n.errors,d=n.error;if(u&&u.length>0&&(d=new a.a({graphQLErrors:u})),e=Object(r.a)(Object(r.a)({},e),{data:i,loading:o,networkStatus:l,error:d,called:!0}),o);else if(d)Object.assign(e,{data:(this.currentObservable.getLastResult()||{}).data});else{var p=this.currentObservable.options.fetchPolicy;if(t.partialRefetch&&c&&(!i||0===Object.keys(i).length)&&"cache-only"!==p)return Object.assign(e,{loading:!0,networkStatus:s.a.loading}),e.refetch(),e}}e.client=this.client,this.setOptions(t,!0);var b=this.previous.result;return this.previous.loading=b&&b.loading||!1,e.previousData=b&&(b.data||b.previousData),this.previous.result=e,this.currentObservable&&this.currentObservable.resetQueryStoreErrors(),e},t.prototype.handleErrorOrCompleted=function(){if(this.currentObservable&&this.previous.result){var e=this.previous.result,t=e.data,n=e.loading,r=e.error;if(!n){var i=this.getOptions(),a=i.query,s=i.variables,c=i.onCompleted,l=i.onError,u=i.skip;if(this.previousOptions&&!this.previous.loading&&Object(o.a)(this.previousOptions.query,a)&&Object(o.a)(this.previousOptions.variables,s))return;!c||r||u?l&&r&&l(r):c(t)}}},t.prototype.removeQuerySubscription=function(){this.currentSubscription&&(this.currentSubscription.unsubscribe(),delete this.currentSubscription)},t.prototype.removeObservable=function(e){this.currentObservable&&(this.currentObservable.tearDownQuery(),e&&delete this.currentObservable)},t.prototype.observableQueryFields=function(){var e;return{variables:null===(e=this.currentObservable)||void 0===e?void 0:e.variables,refetch:this.obsRefetch,fetchMore:this.obsFetchMore,updateQuery:this.obsUpdateQuery,startPolling:this.obsStartPolling,stopPolling:this.obsStopPolling,subscribeToMore:this.obsSubscribeToMore}},t}(n(711).a);var u=n(255);function d(e,t,n){void 0===n&&(n=!1);var a=Object(i.useContext)(Object(u.a)()),s=Object(i.useReducer)((function(e){return e+1}),0),c=s[0],d=s[1],p=t?Object(r.a)(Object(r.a)({},t),{query:e}):{query:e},b=Object(i.useRef)(),h=b.current||(b.current=new l({options:p,context:a,onNewData:function(){h.ssrInitiated()?d():Promise.resolve().then((function(){return b.current&&b.current.isMounted&&d()}))}}));h.setOptions(p),h.context=a;var O=function(e,t){var n=Object(i.useRef)();return n.current&&Object(o.a)(t,n.current.key)||(n.current={key:t,value:e()}),n.current.value}((function(){return n?h.executeLazy():h.execute()}),{options:Object(r.a)(Object(r.a)({},p),{onError:void 0,onCompleted:void 0}),context:a,tick:c}),j=n?O[1]:O;return __DEV__&&function(e){if(__DEV__){var t=Object(i.useRef)(!1);Object(i.useEffect)((function(){return function(){t.current=!0}}),[]),Object(i.useEffect)((function(){!0===t.current&&(t.current=!1,e())}),[])}}(d),Object(i.useEffect)((function(){return function(){h.cleanup(),b.current=void 0}}),[]),Object(i.useEffect)((function(){return h.afterExecute({lazy:n})}),[j.loading,j.networkStatus,j.error,j.data]),O}},716:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(708);var i=n(709);function o(e){return function(e){if(Array.isArray(e))return Object(r.a)(e)}(e)||function(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||Object(i.a)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},717:function(e,t,n){},718:function(e,t,n){"use strict";n(1);var r=n(21),i=n(8);t.a=function(e){return e.dispatch?Object(i.jsxs)(r.H,{show:e.on,onClose:function(){return e.dispatch({type:"MODAL_DISPLAY",payload:{type:"CLOSE"}})},color:e.color,centered:!0,children:[Object(i.jsx)(r.K,{closeButton:!0,children:Object(i.jsxs)(r.L,{children:[" ",e.header," "]})}),Object(i.jsx)(r.I,{children:Object(i.jsx)("h5",{children:e.body})}),Object(i.jsx)(r.J,{children:Object(i.jsx)(r.d,{color:"secondary",onClick:function(){return e.dispatch({type:"MODAL_DISPLAY",payload:{type:"CLOSE"}})},children:"Kapat"})})]}):Object(i.jsxs)(r.H,{show:e.modalOn,onClose:function(){return e.setModal(!e.modalOn)},color:e.color,centered:!0,children:[Object(i.jsx)(r.K,{closeButton:!0,children:Object(i.jsxs)(r.L,{children:[" ",e.header," "]})}),Object(i.jsx)(r.I,{children:Object(i.jsx)("h5",{style:{textAlign:"center"},children:e.body})}),Object(i.jsx)(r.J,{children:Object(i.jsx)(r.d,{color:"secondary",onClick:function(){return e.setModal(!e.modalOn)},children:"Kapat"})})]})}},719:function(e,t,n){"use strict";n.d(t,"e",(function(){return E})),n.d(t,"g",(function(){return D})),n.d(t,"f",(function(){return S})),n.d(t,"a",(function(){return A})),n.d(t,"b",(function(){return k})),n.d(t,"d",(function(){return I})),n.d(t,"c",(function(){return _})),n.d(t,"h",(function(){return L})),n.d(t,"i",(function(){return w}));var r,i,o=n(13),a=n(716),s=n(118),c=n(710),l=n(1),u=n(21),d=(n(717),n(721),n(718)),p=n(41),b=n(705),h=n(722),O=n(8);function j(e){var t=e.item,n=e.state,r=e.dispatch;switch(t.durum){case"APPROVED":return Object(O.jsx)("table",{className:"table table-striped collapsedMine-table",children:Object(O.jsx)("tbody",{children:t.kat\u0131lanlar&&t.kat\u0131lanlar.map((function(e,i){var o;return Object(O.jsxs)("tr",{style:{backgroundColor:(null===(o=n.rows[i])||void 0===o?void 0:o.clicked)?"rgba(18, 54, 216, 0.514)":"",color:"black"},children:[Object(O.jsx)("td",{children:Object(O.jsx)("input",{type:"checkbox",id:"joiner1",name:e.name,disabled:n.isNotPending,onChange:function(e){r({type:"TOGGLE_ECZANE",payload:e.target.name}),r({type:"HEDEF_HESAPLA_COLLAPSED_MINE",payload:t.pledge,hedef:t.hedef})}})}),Object(O.jsx)("td",{children:Object(O.jsx)("label",{children:Object(O.jsx)("b",{children:e.name})})}),Object(O.jsx)("td",{children:Object(O.jsxs)("h5",{children:[e.pledge," / ",t.hedef]})})]},i)}))})});default:return Object(O.jsx)("table",{className:"table table-striped collapsedMine-table",children:Object(O.jsx)("tbody",{children:t.kat\u0131lanlar&&t.kat\u0131lanlar.map((function(e,i){var o;return Object(O.jsxs)("tr",{style:{backgroundColor:(null===(o=n.rows[i])||void 0===o?void 0:o.clicked)?"rgba(18, 54, 216, 0.514)":"",color:"black"},children:[Object(O.jsx)("td",{children:Object(O.jsx)("input",{type:"checkbox",id:"joiner1",name:e.name,disabled:n.isNotPending,onChange:function(e){r({type:"TOGGLE_ECZANE",payload:e.target.name}),r({type:"HEDEF_HESAPLA_COLLAPSED_MINE",payload:t.pledge,hedef:t.hedef})}})}),Object(O.jsx)("td",{children:Object(O.jsx)("label",{children:Object(O.jsx)("b",{children:e.name})})}),Object(O.jsx)("td",{children:Object(O.jsxs)("h5",{children:[e.pledge," / ",t.hedef]})})]},i)}))})})}}var f,y,v=function(e){var t=e.item,n=e.refetch,a=Object(l.useReducer)(D,E),f=Object(c.a)(a,2),y=f[0],v=f[1],g=Object(p.c)(),m=y.modal,x=Object(b.a)(r||(r=Object(s.a)(["\n    mutation ($applicationID: ID) {\n        deleteApplication(applicationID: $applicationID) {\n            application_id\n        }\n    }\n    "]))),S=Object(h.a)(x,{fetchPolicy:"no-cache",variables:{applicationID:t.ID},onError:function(e){g({type:"TOGGLE_LOADING_FALSE"}),v({type:"MODAL_DISPLAY",payload:{type:"FAILURE"}}),console.log(e)},onCompleted:function(e){console.log(e),n(),g({type:"TOGGLE_LOADING_FALSE"}),v({type:"MODAL_DISPLAY",payload:{type:"SUCCESS"}})}}),A=Object(c.a)(S,1)[0],k=Object(b.a)(i||(i=Object(s.a)(["\n        mutation($applicationID: ID!, $chosenJoiners: [JoinerArg]!) {\n            approveApplication(applicationID: $applicationID, chosenJoiners: $chosenJoiners) {\n                application_id\n                specialField\n            }\n        }\n    "]))),I=Object(h.a)(k,{fetchPolicy:"no-cache",variables:{applicationID:t.ID},onError:function(e){g({type:"TOGGLE_LOADING_FALSE"}),v({type:"MODAL_DISPLAY",payload:{type:"FAILURE"}}),console.log(e)},onCompleted:function(e){g({type:"TOGGLE_LOADING_FALSE"}),g({type:"FILL_USER_INFO",bakiye:Number(e.approveApplication.specialField)}),v({type:"MODAL_DISPLAY",payload:{type:"SUCCESS"}}),n()}}),_=Object(c.a)(I,1)[0];return Object(l.useEffect)((function(){if(t.kat\u0131lanlar)for(var e=t.kat\u0131lanlar,n=0;n<t.kat\u0131lanlar.length;n++)v({type:"ADD_ROW",payload:Object(o.a)(Object(o.a)({},e[n]),{},{clicked:!1})});v({type:"HEDEF_HESAPLA_COLLAPSED_MINE",payload:t.pledge,hedef:t.hedef}),v({type:"SET_STATUS",payload:t.durum})}),[]),Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(d.a,{on:m.on,header:m.header,body:m.body,color:m.color,dispatch:v}),Object(O.jsx)(u.f,{style:{backgroundColor:"rgb(69, 70, 79, 0.02)",borderTop:"1px solid grey"},children:Object(O.jsxs)(u.u,{row:!0,children:[Object(O.jsxs)(u.i,{xs:"12",md:"6",children:[Object(O.jsx)(u.F,{htmlFor:"textarea-input",children:"A\xe7\u0131klaman\u0131z:"}),Object(O.jsx)(u.V,{name:"textarea-input",id:"textarea-input",rows:"7",value:t.description,readOnly:!0}),y.isOnHold&&Object(O.jsxs)("div",{style:{display:"flex",justifyContent:"space-around"},children:[Object(O.jsxs)("h5",{className:"",children:[" ",Object(O.jsx)(u.a,{color:"secondary",style:{fontSize:"15px"},children:" Hedefe kalan adet:"})]}),Object(O.jsx)("h4",{className:"collapsedMine-hedefeKalanH4 ".concat(y.hedefeKalanIs0?"hedefeKalanIs0":""),children:y.hedefeKalanMine})]})]}),Object(O.jsxs)(u.i,{xs:"12",md:"6",children:[Object(O.jsx)(u.F,{children:"Kat\u0131lanlar:"}),Object(O.jsx)(j,{item:t,state:y,dispatch:v})]})]})}),y.isOnHold&&Object(O.jsxs)(u.u,{row:!0,className:"collapsedMine-footerControlButtons",id:"collapsedMine-footer",children:[Object(O.jsx)(u.d,{color:"danger",onClick:function(){g({type:"TOGGLE_LOADING_TRUE"}),A()},children:"Teklifi sil"}),Object(O.jsx)(u.d,{disabled:!y.hedefeKalanIs0,color:"success",onClick:function(){for(var e=[],t=0;t<y.rows.length;t++)!0===y.rows[t].clicked&&e.push({name:y.rows[t].name,pledge:y.rows[t].pledge});_({variables:{chosenJoiners:e}})},children:"Onayla"})]})]})},g=n(194);function m(e){var t=e.item,n=e.state,r=e.dispatch;switch(t.durum){case"APPROVED":return Object(O.jsx)("table",{className:"table table-striped collapsedMine-table",children:Object(O.jsx)("tbody",{children:t.kat\u0131lanlar&&t.kat\u0131lanlar.map((function(e,i){var o;return Object(O.jsxs)("tr",{style:{backgroundColor:(null===(o=n.rows[i])||void 0===o?void 0:o.clicked)?"rgba(18, 54, 216, 0.514)":"",color:"black"},children:[n.isNotPending&&e.isCurrentUser?Object(O.jsx)("td",{children:Object(O.jsx)("input",{type:"checkbox",id:"joiner1",name:e.name,onChange:function(e){console.log("TOGGLE ECZANE DISPATCH",e.target.name),r({type:"TOGGLE_ECZANE",payload:e.target.name})}})}):Object(O.jsx)("td",{children:Object(O.jsx)("input",{type:"checkbox",id:"joiner1",name:e.name,disabled:!0})}),Object(O.jsx)("td",{children:Object(O.jsx)("label",{htmlFor:"joiner1",children:Object(O.jsx)("b",{children:e.name})})}),Object(O.jsx)("td",{children:Object(O.jsxs)("h5",{children:[e.pledge," / ",t.hedef]})})]},i)}))})});default:return Object(O.jsx)("table",{className:"table table-striped collapsedMine-table",children:Object(O.jsx)("tbody",{children:t.kat\u0131lanlar&&t.kat\u0131lanlar.map((function(e,i){var o;return Object(O.jsxs)("tr",{style:{backgroundColor:(null===(o=n.rows[i])||void 0===o?void 0:o.clicked)?"rgba(18, 54, 216, 0.514)":"",color:"black"},children:[n.isNotPending&&e.isCurrentUser?Object(O.jsx)("td",{children:Object(O.jsx)("input",{type:"checkbox",id:"joiner1",name:e.name,onChange:function(e){r({type:"TOGGLE_ECZANE",payload:e.target.name})}})}):Object(O.jsx)("td",{children:Object(O.jsx)("input",{type:"checkbox",id:"joiner1",name:e.name,disabled:!0})}),Object(O.jsx)("td",{children:Object(O.jsx)("label",{htmlFor:"joiner1",children:Object(O.jsx)("b",{children:e.name})})}),Object(O.jsx)("td",{children:Object(O.jsxs)("h5",{children:[e.pledge," / ",t.hedef]})})]},i)}))})})}}var x=function(e){var t=e.reduxUser,n=e.item,r=e.order,i=e.setOrder,a=e.total,p=e.bakiyeSonra,j=e.refetch,v=Object(l.useReducer)(D,E),x=Object(c.a)(v,2),A=x[0],k=x[1],I=A.modal,_=A.isLoading,L=Object(b.a)(f||(f=Object(s.a)(["\n        mutation($applicationID: ID) {\n            deleteJoin(applicationID: $applicationID) {\n                application_id\n            }\n        }\n    "]))),w=Object(h.a)(L,{fetchPolicy:"no-cache",variables:{applicationID:n.ID},onError:function(e){console.log(e),k({type:"MODAL_DISPLAY",payload:{type:"FAILURE"}}),k({type:"APPROVE_BID",payload:{type:"LOADING_OFF"}})},onCompleted:function(e){console.log(e),k({type:"MODAL_DISPLAY",payload:{type:"SUCCESS"}}),k({type:"APPROVE_BID",payload:{type:"LOADING_OFF"}}),j()}}),P=Object(c.a)(w,1)[0],C=Object(b.a)(y||(y=Object(s.a)(["\n        mutation($applicationID: ID!, $pledge: Int!) {\n            joinApplication(applicationID: $applicationID, pledge: $pledge) {\n                application_id\n            }\n        }\n    "]))),R=Object(h.a)(C,{fetchPolicy:"no-cache",variables:{applicationID:n.ID,pledge:Number(r)},onError:function(e){console.log(e),k({type:"MODAL_DISPLAY",payload:{type:"FAILURE"}}),k({type:"APPROVE_BID",payload:{type:"LOADING_OFF"}})},onCompleted:function(e){console.log(e),j(),k({type:"MODAL_DISPLAY",payload:{type:"SUCCESS"}}),k({type:"APPROVE_BID",payload:{type:"LOADING_OFF"}})}}),M=Object(c.a)(R,1)[0];return Object(l.useEffect)((function(){if(n.kat\u0131lanlar)for(var e=JSON.parse(JSON.stringify(n)),r=0;r<e.kat\u0131lanlar.length;r++)e.kat\u0131lanlar[r].name===t&&Object.assign(e.kat\u0131lanlar[r],{isCurrentUser:!0}),k({type:"ADD_ROW",payload:Object(o.a)(Object(o.a)({},e.kat\u0131lanlar[r]),{},{clicked:!1})});k({type:"HEDEF_HESAPLA_COLLAPSED_JOIN",payload:n.pledge,hedef:n.hedef,ID:n.ID}),k({type:"SET_STATUS",payload:n.durum})}),[n]),Object(O.jsxs)(g.a,{isLoading:_,children:[Object(O.jsxs)(u.f,{id:"collapsedJoin-bodyMain",children:[Object(O.jsx)(d.a,{on:I.on,header:I.header,body:I.body,color:I.color,dispatch:k}),Object(O.jsxs)(u.u,{row:!0,children:[Object(O.jsxs)(u.i,{xs:"12",md:"6",children:[Object(O.jsx)(u.F,{htmlFor:"textarea-input",children:"A\xe7\u0131klama:"}),Object(O.jsx)(u.V,{name:"textarea-input",id:"textarea-input",rows:"7",value:n.description,readOnly:!0}),A.isOnHold&&Object(O.jsxs)("div",{id:"collapsedJoin-remainingGoal",children:[Object(O.jsx)("h5",{children:Object(O.jsx)(u.a,{color:"secondary",style:{fontSize:"15px"},children:" Hedefe kalan adet: "})}),Object(O.jsx)("h4",{className:"collapsedMine-hedefeKalanH4 ".concat(A.hedefeKalanIs0?"hedefeKalanIs0":""),children:A.hedefeKalanJoin})]})]}),Object(O.jsxs)(u.i,{xs:"12",md:"6",children:[Object(O.jsx)(u.F,{children:"Kat\u0131lanlar:"}),Object(O.jsx)(m,{item:n,state:A,dispatch:k}),A.isOnHold&&Object(O.jsxs)("div",{id:"collapsedJoin-inputDiv",children:[Object(O.jsx)("h5",{style:{marginLeft:"15px"},children:"Siz"}),Object(O.jsx)(u.A,{id:"collapsedJoin-inputField",type:"number",placeholder:"\xf6rnek: 15",onChange:function(e){i(e.target.value)}})]})]})]})]}),A.isOnHold&&Object(O.jsxs)(u.u,{row:!0,id:"collapsedJoin-footer",className:"justify-content-between",children:[Object(O.jsxs)(u.i,{md:"4",children:[Object(O.jsxs)("span",{className:"collapsedJoiner-footerInfo",children:[Object(O.jsx)(u.F,{children:"Toplam:"}),Object(O.jsxs)("p",{style:{marginLeft:"10px"},children:[" ",Object(O.jsxs)("b",{children:[" ",a.toFixed(2)," TL"]})]})]}),Object(O.jsxs)("span",{className:"collapsedJoiner-footerInfo",children:[Object(O.jsx)(u.F,{children:"Siprai\u015ften Sonra Bakiyeniz:"}),Object(O.jsxs)("p",{style:{marginLeft:"10px",color:S(p)},children:[p.toFixed(2)," TL"]})]})]}),Object(O.jsxs)(u.i,{md:"3",children:[Object(O.jsx)(u.d,{color:"danger",className:"btn-ghost-danger",onClick:function(){k({type:"APPROVE_BID",payload:{type:"LOADING_ON"}}),P()},children:"SIL"}),Object(O.jsx)(u.d,{color:"success",onClick:function(){k({type:"APPROVE_BID",payload:{type:"LOADING_ON"}}),M()},children:"ONAYLA"})]})]})]})},E={rows:[],totalPledges:0,hedefeKalanMine:0,hedefeKalanJoin:0,userDynamicInput:{input:0,total:0,balanceAfterPurchase:0},hedefeKalanIs0:!1,pickedRows:[],isCollapsed:!1,isOnHold:!1,isloading:!1,modal:{on:!1,header:"",body:"",color:""},isNotPending:!1};function D(e,t){switch(t.type){case"TOGGLE_ECZANE":var n=e.rows.findIndex((function(e){return e.name===t.payload})),r=Object(a.a)(e.rows);if(r[n].clicked=!e.rows[n].clicked,!0===r[n].clicked)return Object(o.a)(Object(o.a)({},e),{},{rows:r,pickedRows:[].concat(Object(a.a)(e.pickedRows),[r[n]])});var i=e.pickedRows,s=i.findIndex((function(e){return e.name===t.payload}));return i.splice(s,1),Object(o.a)(Object(o.a)({},e),{},{rows:r,pickedRows:i});case"TOGGLE_ECZANE_JOIN":var c=e.rows.findIndex((function(e){return e.name===t.payload}));console.log("index: ",c);var l=Object(a.a)(e.rows);if(console.log("newArray: ",l),r[n].clicked=!e.rows[n].clicked,!0===r[n].clicked)return Object(o.a)(Object(o.a)({},e),{},{rows:r,pickedRows:[].concat(Object(a.a)(e.pickedRows),[r[n]])});var u=e.pickedRows,d=u.findIndex((function(e){return e.name===t.payload}));return u.splice(d,1),Object(o.a)(Object(o.a)({},e),{},{rows:r,pickedRows:u});case"ADD_ROW":return Object(o.a)(Object(o.a)({},e),{},{rows:[].concat(Object(a.a)(e.rows),[t.payload])});case"HEDEF_HESAPLA_COLLAPSED_MINE":var p=t.payload,b=t.hedef,h=e.pickedRows.reduce((function(e,t){return e+t.pledge}),p),O=b-h;return 0===O?Object(o.a)(Object(o.a)({},e),{},{totalPledges:h,hedefeKalanMine:O,hedefeKalanIs0:!0}):Object(o.a)(Object(o.a)({},e),{},{totalPledges:h,hedefeKalanMine:O,hedefeKalanIs0:!1});case"HEDEF_HESAPLA_COLLAPSED_JOIN":var j=t.payload,f=t.hedef,y=e.rows.reduce((function(e,t){return e+t.pledge}),j),v=f-y;return 0===v?Object(o.a)(Object(o.a)({},e),{},{totalPledges:y,hedefeKalanJoin:v,hedefeKalanIs0:!0}):Object(o.a)(Object(o.a)({},e),{},{totalPledges:y,hedefeKalanJoin:v,hedefeKalanIs0:!1});case"SET_STATUS":switch(t.payload){case"APPROVED":return Object(o.a)(Object(o.a)({},e),{},{isOnHold:!1,isNotPending:!0});case"ON_HOLD":return Object(o.a)(Object(o.a)({},e),{},{isOnHold:!0});default:return e}case"APPROVE_BID":switch(t.payload.type){case"LOADING_ON":return Object(o.a)(Object(o.a)({},e),{},{isloading:!0});case"LOADING_OFF":return Object(o.a)(Object(o.a)({},e),{},{isloading:!1});default:return}case"MODAL_DISPLAY":switch(t.payload.type){case"SUCCESS":return Object(o.a)(Object(o.a)({},e),{},{modal:Object(o.a)(Object(o.a)({},e.modal),{},{on:!0,header:"BA\u015eARILI",body:"De\u011fi\u015fikleriniz Ba\u015far\u0131yla Tamamlanm\u0131\u015ft\u0131r",color:"success"})});case"FAILURE":return Object(o.a)(Object(o.a)({},e),{},{modal:Object(o.a)(Object(o.a)({},e.modal),{},{on:!0,header:"HATA",body:"Bir Hata Olmu\u015ftur, l\xfctfen daha sonra tekrar deneyin",color:"danger"})});case"CLOSE":return Object(o.a)(Object(o.a)({},e),{},{modal:Object(o.a)(Object(o.a)({},e.modal),{},{on:!1,header:"",body:"",color:""})});default:return}default:return e}}function S(e){return e<0?"red":"green"}var A=[{key:"ID",_style:{width:"5%"}},{key:"eczane",_style:{width:"10%"}},{key:"\u0130la\xe7",_style:{width:"30%"}},"hedef","birimFiyat","kampanya","sonTarih","durum",{key:"show_details",label:"",_style:{width:"1%"},sorter:!1,filter:!1}];function k(e){switch(e){case"APPROVED":return"success";case"Inactive":return"secondary";case"ON_HOLD":return"warning";case"Banned":return"danger";default:return"primary"}}function I(e){switch(e){case"ON_HOLD":return"Beklemede";case"APPROVED":return"Tamamland\u0131";default:return e}}function _(e){switch(e){case"NONE":return Object(O.jsx)("p",{children:"Yok"});default:return Object(O.jsxs)("p",{style:{color:"\t#321fdb"},children:[" ",e," "]})}}function L(e,t,n,r,i,o){var a=t.indexOf(e),s=t.slice();-1!==a?s.splice(a,1):(r(0),i(0),o(0),s=[e]),n(s)}function w(e,t,n,r,i,o,a,s,c){return e===t?Object(O.jsx)(v,{item:n,refetch:c}):Object(O.jsx)(x,{reduxUser:e,item:n,order:i,setOrder:o,total:a,bakiyeSonra:s,refetch:c})}},720:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(712);function i(e,t){return Object(r.a)(e,t,!1)}},721:function(e,t,n){},722:function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var r=n(6),i=n(1),o=n(33),a=n(707),s=n(66),c=n(711),l=n(703),u=function(e){function t(t){var n=t.options,r=t.context,i=t.result,o=t.setResult,s=e.call(this,n,r)||this;return s.runMutation=function(e){void 0===e&&(e={}),s.onMutationStart();var t=s.generateNewMutationId();return s.mutate(e).then((function(e){return s.onMutationCompleted(e,t),e})).catch((function(e){var n=s.getOptions().onError;if(s.onMutationError(e,t),n)return n(e),{data:void 0,errors:e};throw e}))},s.verifyDocumentType(n.mutation,a.a.Mutation),s.result=i,s.setResult=o,s.mostRecentMutationId=0,s}return Object(r.c)(t,e),t.prototype.execute=function(e){return this.isMounted=!0,this.verifyDocumentType(this.getOptions().mutation,a.a.Mutation),[this.runMutation,Object(r.a)(Object(r.a)({},e),{client:this.refreshClient().client})]},t.prototype.afterExecute=function(){return this.isMounted=!0,this.unmount.bind(this)},t.prototype.cleanup=function(){},t.prototype.mutate=function(e){return this.refreshClient().client.mutate(Object(l.b)(this.getOptions(),e))},t.prototype.onMutationStart=function(){this.result.loading||this.getOptions().ignoreResults||this.updateResult({loading:!0,error:void 0,data:void 0,called:!0})},t.prototype.onMutationCompleted=function(e,t){var n=this.getOptions(),r=n.onCompleted,i=n.ignoreResults,o=e.data,a=e.errors,c=a&&a.length>0?new s.a({graphQLErrors:a}):void 0;this.isMostRecentMutation(t)&&!i&&this.updateResult({called:!0,loading:!1,data:o,error:c}),r&&r(o)},t.prototype.onMutationError=function(e,t){this.isMostRecentMutation(t)&&this.updateResult({loading:!1,error:e,data:void 0,called:!0})},t.prototype.generateNewMutationId=function(){return++this.mostRecentMutationId},t.prototype.isMostRecentMutation=function(e){return this.mostRecentMutationId===e},t.prototype.updateResult=function(e){if(this.isMounted&&(!this.previousResult||!Object(o.a)(this.previousResult,e)))return this.setResult(e),this.previousResult=e,e},t}(c.a),d=n(255);function p(e,t){var n=Object(i.useContext)(Object(d.a)()),o=Object(i.useState)({called:!1,loading:!1}),a=o[0],s=o[1],c=t?Object(r.a)(Object(r.a)({},t),{mutation:e}):{mutation:e},l=Object(i.useRef)();var p=(l.current||(l.current=new u({options:c,context:n,result:a,setResult:s})),l.current);return p.setOptions(c),p.context=n,Object(i.useEffect)((function(){return p.afterExecute()})),p.execute(a)}}}]);
//# sourceMappingURL=0.90c99594.chunk.js.map